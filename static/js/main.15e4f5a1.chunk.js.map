{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.module.css","components/Users/users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Header/Header.module.css","components/Navbar/Navbar.tsx","redux/dialogs-reducer.ts","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","redux/users-reducer.ts","asserts/images/Meelo.png","components/Users/Users.tsx","asserts/images/loader.gif","components/common/preloader/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Posts/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/login/Login.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx"],"names":["module","exports","Navbar","className","classes","nav","item","to","activeClassName","activeLink","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","initialState","dialogs","id","v1","name","messages","message","newMessageBody","dialogsReducer","state","action","type","newText","body","Message","props","dialog","DialogItem","active","Dialogs","updateNewMessageBody","sendMessage","dialogsPage","isAuth","dialogsElements","map","d","messagesElements","m","newMessageElement","React","createRef","dialogItems","value","onChange","e","target","placeholder","onClick","ref","DialogsContainer","connect","auth","dispatch","updateNewMessageBodyAC","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","params","page","count","then","response","data","follow","userId","post","unfollow","delete","getProfile","authAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","toggleIsFetching","toggleFollowingProgress","usersReducer","u","followed","filter","Users","usersPage","onPageChanged","pagesCount","Math","ceil","pages","i","push","p","styles","selectedPage","src","photos","small","userPhoto","usersPhoto","disabled","some","status","Preloader","style","backgroundColor","preloader","UsersContainer","pageNumber","this","Component","resultCode","followSuccess","unfollowSuccess","setCurrentPage","items","totalCount","ProfileInfo","profile","large","fullName","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","newPostText","posts","likesCount","profileReducer","newPost","Post","MyPosts","postsElements","profilePage","postsBlock","text","currentTarget","updateNewPostText","addPost","MyPostsContainer","updateNewPostTextAC","Profile","ProfileContainer","Number","match","getUserProfile","WithUrlDataContainerComponent","withRouter","Header","login","header","alt","loginBlock","SET_USER_DATA","email","authReducer","HeaderContainer","getAuthUserData","setAuthUserData","Login","App","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","profileReduser","dialogsReduser","store","createStore","applyMiddleware","thunkMiddleware","window","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.15e4f5a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2XDNa\",\"dialogItems\":\"Dialogs_dialogItems__3UILS\",\"active\":\"Dialogs_active__20aBj\",\"messages\":\"Dialogs_messages__3oxni\",\"message\":\"Dialogs_message__2av77\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2e-Le\",\"item\":\"Navbar_item__1aPzz\",\"activeLink\":\"Navbar_activeLink__31clV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__ZCNPf\",\"selectedPage\":\"users_selectedPage__1JzRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1cqPN\",\"posts\":\"MyPosts_posts__f-P4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1g_qD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22eFF\",\"loginBlock\":\"Header_loginBlock__BqvfD\"};","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}> Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/users\"}>Users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/news\"}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/music\"}>Music</NavLink></div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/settings\"}>Settings</NavLink>\r\n        </div>\r\n\r\n    </nav>\r\n        ;\r\n}\r\nexport default Navbar;","import {v1} from \"uuid\";\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\";\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Dimych'},\r\n        {id: v1(), name: 'Andrew'},\r\n        {id: v1(), name: 'Sveta'},\r\n        {id: v1(), name: 'Sasha'},\r\n        {id: v1(), name: 'Viktor'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: v1(), message: 'Hi'},\r\n        {id: v1(), message: \"What's up\"},\r\n        {id: v1(), message: 'Yo'},\r\n        {id: v1(), message: 'Crap!'},\r\n        {id: v1(), message: 'Hi, Bro!'}\r\n    ] as Array<MessageType>,\r\n    newMessageBody: \"\" as string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsTypes = ReturnType<typeof sendMessageAC> | ReturnType<typeof updateNewMessageBodyAC>\r\n\r\n const dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {...state, newMessageBody: action.newText}\r\n        case SEND_MESSAGE:\r\n            let body = state.newMessageBody;\r\n            return {\r\n                ...state,\r\n                newMessageBody: \"\",\r\n                messages: [...state.messages, {id: v1(), message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageAC = () => ({type: SEND_MESSAGE}) as const\r\n\r\nexport const updateNewMessageBodyAC = (body: string) => ({\r\n    type: UPDATE_NEW_MESSAGE_BODY,\r\n    newText: body\r\n}) as const\r\n\r\nexport default dialogsReducer;","import React from 'react'\r\nimport classes from './../Dialogs.module.css'\r\nimport {MessageType} from \"../../../redux/dialogs-reducer\";\r\n\r\nconst Message: React.FC<MessageType> = (props) => {\r\n    return <div className={classes.dialog}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react'\r\nimport classes from './../Dialogs.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\nimport Message from \"../Message/Message\";\r\nimport {DialogType} from \"../../../redux/dialogs-reducer\";\r\nimport {DialogsPageType} from \"../../../redux/store\";\r\n\r\n\r\nconst DialogItem:React.FC<DialogType> = ({id, name}) => {\r\n    let path = \"/dialogs/\" + id;\r\n    return <div className={classes.dialog + ' ' + classes.active}>\r\n        <NavLink to={\"/dialogs/\" + id}>{name}</NavLink>\r\n    </div>\r\n}\r\n\r\n\r\nconst DialogsItem :React.FC<DialogsPageType> = (props) => {\r\n\r\n    let dialogsElements = props.dialogs.map(d => <DialogItem name={d.name} id={d.id}/>)\r\n    let messagesElements = props.messages.map(m => <Message message={m.message} id={m.id}/>)\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={classes.messages}>\r\n                {messagesElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React, {ChangeEvent} from 'react'\r\nimport classes from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {InitialStateType} from \"../../redux/dialogs-reducer\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\ntype DialogsPropsType = {\r\n    updateNewMessageBody: (body: string) => void\r\n    sendMessage: () => void\r\n    dialogsPage: InitialStateType\r\n    isAuth: boolean\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = ({\r\n                                                 updateNewMessageBody,\r\n                                                 sendMessage,\r\n                                                 dialogsPage,\r\n                                                 isAuth,\r\n                                             }) => {\r\n\r\n    // let state_=state.dialogsPage;\r\n\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id}/>)\r\n    let messagesElements = dialogsPage.messages.map(m => <Message message={m.message} id={m.id} key={m.id}/>)\r\n    let newMessageElement = React.createRef<HTMLTextAreaElement>()\r\n\r\n    let addMessage = () => {\r\n        let mess = newMessageElement.current?.value;\r\n        alert(mess);\r\n    }\r\n    let newMessageBody = dialogsPage.newMessageBody;\r\n\r\n    let onSendMessageClick = () => {\r\n        sendMessage();\r\n    }\r\n    let onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        let body = e.target.value;\r\n        updateNewMessageBody(body)\r\n    }\r\n\r\n    if (!isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div className={classes.dialogs}>\r\n\r\n            <div className={classes.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n\r\n            <div className={classes.messages}>\r\n                <div>{messagesElements}</div>\r\n                <div>\r\n                    <div>\r\n                                <textarea value={newMessageBody}\r\n                                          onChange={onNewMessageChange}\r\n                                          placeholder=\"Enter message\">\r\n                            </textarea>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <button onClick={onSendMessageClick}> Send</button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <button>Send</button>\r\n            <textarea ref={newMessageElement}></textarea>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react'\r\nimport {sendMessageAC, updateNewMessageBodyAC} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {InitialStateType} from \"../../redux/dialogs-reducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogsPage: InitialStateType //дробить?\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    updateNewMessageBody: (body: string) => void\r\n    sendMessage: () => void\r\n}\r\n\r\nexport type DialogsPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        updateNewMessageBody: (body: string) => {\r\n            dispatch(updateNewMessageBodyAC(body));\r\n        },\r\n        sendMessage: () => {\r\n            dispatch(sendMessageAC());\r\n        }\r\n    }\r\n}\r\n\r\nconst DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(Dialogs);\r\n\r\nexport default DialogsContainer;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"2e663c7e-754e-4005-8ebe-08de0775050a\"\r\n    }\r\n}) //object-instance\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get('users',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: number) {\r\n        return instance.get(\"profile/\" + userId);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n}\r\n\r\n\r\nexport const followAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return axios.get('follow',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\n\r\nexport const unfollowAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return axios.delete('follow',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nexport type PhotosType = {\r\n    large: string | null\r\n    small: string | null\r\n}\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: {\r\n        city: string,\r\n        country: string\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type ActionsTypes = ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof toggleFollowingProgress>\r\n\r\n\r\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId: userId}) as const\r\nexport const unfollowSuccess  = (userId: number) => ({type: UNFOLLOW, userId: userId}) as const\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users: users}) as const\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}) as const\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount}) as const\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching}) as const\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}) as const\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n        });\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return (dispatch:Dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.follow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(followSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            });\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return (dispatch:Dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.unfollow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(unfollowSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            });\r\n    }\r\n}\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/Meelo.a12d6408.png\";","import React, {FC} from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../asserts/images/Meelo.png\";\r\nimport {InitialStateType, toggleFollowingProgress} from \"../../redux/users-reducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UsersPropsType = {\r\n    usersPage: InitialStateType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    getUsers: any\r\n    followingInProgress: any\r\n}\r\n\r\nlet Users: FC<UsersPropsType> = props => {\r\n    const {usersPage, follow, unfollow, onPageChanged, getUsers, followingInProgress} = props;\r\n\r\n    let pagesCount = Math.ceil(usersPage.totalUsersCount / usersPage.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            {\r\n                pages.map(p => {\r\n                    return <span className={usersPage.currentPage === p ? styles.selectedPage : \"\"}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p)\r\n                                 }}>{p}</span>\r\n                })\r\n            }\r\n        </div>\r\n\r\n        <button onClick={getUsers}>Get users</button>\r\n        {\r\n            usersPage.users.map(u => <div key={u.id}>\r\n<span>\r\n    <div>\r\n        <NavLink to={'/profile/' + u.id}>\r\n        <img src={u.photos.small !== null ? u.photos.small : userPhoto} className={styles.usersPhoto}/>\r\n            </NavLink>\r\n    </div>\r\n    <div>\r\n        {\r\n            u.followed\r\n                ?\r\n                <button disabled={followingInProgress.some((id: number) => id === u.id)}\r\n                        onClick={() => unfollow(u.id)}>Unfollow </button>\r\n                :\r\n                <button disabled={followingInProgress.some((id: number) => id === u.id)}\r\n                        onClick={() => follow(u.id)}> Follow </button>\r\n        }\r\n    </div>\r\n\r\n</span>\r\n                <span>\r\n    <span>\r\n        <div>{u.name}</div>\r\n        <div>{u.status}</div>\r\n    </span>\r\n    <span>\r\n        <div>{\"u.location.country\"}</div>\r\n        <div>{\"u.location.city\"}</div>\r\n    </span>\r\n</span>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/loader.af80ae8f.gif\";","import React from \"react\";\r\nimport preloader from \"../../../asserts/images/loader.gif\";\r\n\r\nlet Preloader = (props: any) => {\r\n    return <div style={{backgroundColor: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n    export default Preloader;","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, getUsers, InitialStateType, setCurrentPage, unfollow,} from '../../redux/users-reducer';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {usersAPI} from '../../api/api';\r\n\r\n\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass UsersContainer extends Component <UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n\r\n            {this.props.usersPage.isFetching ? <Preloader/> : null}\r\n\r\n            <Users\r\n                usersPage={this.props.usersPage}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                onPageChanged={this.onPageChanged}\r\n                getUsers={usersAPI.getUsers}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n\r\n    }\r\n}\r\nexport type MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n}\r\ntype MapStateToPropsType = {\r\n    usersPage: InitialStateType\r\n    currentPage: number\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        usersPage: state.usersPage,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(\r\n    mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, getUsers\r\n})(UsersContainer);\r\n","import React from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/preloader/Preloader\";\r\nimport {ProfileType} from \"../../../../redux/profile-reducer\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType | null,\r\n}\r\n\r\nconst ProfileInfo: React.FC<ProfileInfoPropsType> = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img\r\n                    src='https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350'/>\r\n            </div>\r\n            <div className=\"classes.descriptionBlock\">\r\n                <img src={props.profile.photos.large}></img>\r\n                <div>{props.profile.fullName}\r\n                    <div/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            )\r\n}\r\n\r\nexport default ProfileInfo;","import {v1} from \"uuid\";\r\nimport {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE-NEW-POST-TEXT\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\ntype ProfileContactsType = {\r\n    facebook: string,\r\n    website: string,\r\n    vk: string,\r\n    twitter: string,\r\n    instagram: string,\r\n    youtube: string,\r\n    github: string,\r\n    mainLink: string,\r\n}\r\n\r\ntype ProfilePhotosType = {\r\n    small: string,\r\n    large: string,\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number,\r\n    aboutMe: string,\r\n    contacts: ProfileContactsType,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    photos: ProfilePhotosType,\r\n}\r\n\r\n\r\n\r\nlet initialState = {\r\n    newPostText: \"\",\r\n    posts: [\r\n        {id: v1(), message: \"Hi, how are you?\", likesCount: 12},\r\n        {id: v1(), message: \"It's my first post\", likesCount: 7},\r\n        {id: v1(), message: \"It's my second post\", likesCount: 5}\r\n    ] as Array<PostType>,\r\n    profile: null as null | ProfileType,\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsTypes =\r\n    ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof setUserProfile>\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    let stateCopy = {...state, posts: [...state.posts]}\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: v1(),\r\n                message: state.newPostText,\r\n                likesCount: 0\r\n            };\r\n            state.newPostText = \"\";\r\n            return {...state, posts: [...state.posts, newPost]}\r\n\r\n        case UPDATE_NEW_POST_TEXT:\r\n            return {\r\n                ...state, newPostText: action.newText\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostAC = () => ({type: ADD_POST}) as const\r\n\r\nexport const updateNewPostTextAC = (text: string) => ({ //?поменяла на string, чтобы убрать ошибку в контейнере\r\n    type: UPDATE_NEW_POST_TEXT,\r\n    newText: text\r\n}) as const\r\n\r\nexport const setUserProfile = (profile: any) => ({type: SET_USER_PROFILE, profile}) as const\r\nexport const getUserProfile = (userId: number) =>(dispatch: Dispatch) => {\r\n    usersAPI.getProfile(userId).then(response => {\r\n       dispatch (setUserProfile(response.data));\r\n    })\r\n}\r\nexport default profileReducer;","import React from 'react';\r\nimport classes from './Post.module.css';\r\nimport {PostType} from \"../../../../redux/store\";\r\n\r\nconst Post: React.FC<PostType> = ({id, message,likesCount}) => {\r\n    return (\r\n        <div>\r\n            <div className={classes.item}>\r\n                <img\r\n                    src=\"https://tlum.ru/uploads/c2c776f1f20dd128d27ab941c26168c2e866ef6551da751aea7e83ae862a032a.jpeg\"/>\r\n                <div className={classes.item}>\r\n                    {message}\r\n                    <div>\r\n                        <span>like</span>{likesCount}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\nexport default Post;","import React, {ChangeEvent} from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from \"./Posts/Post\";\r\nimport {InitialStateType} from \"../../../redux/profile-reducer\";\r\n\r\ntype MyPostsPropsType = {\r\n    profilePage: InitialStateType\r\n    addPost: () => void\r\n    updateNewPostText: (text: string) => void\r\n}\r\n\r\nconst MyPosts: React.FC<MyPostsPropsType> = (props) => {\r\n\r\n    let postsElements = props.profilePage.posts.map(p =>\r\n        <Post id={p.id} message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    /*let newPostElement = React.createRef<HTMLTextAreaElement>();*/\r\n\r\n    let onAddPost = () => {\r\n        props.addPost();\r\n    }\r\n\r\n    let onPostChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        let text = e.currentTarget.value;\r\n        props.updateNewPostText(text);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.postsBlock}>\r\n            <h3> My posts </h3>\r\n            <div>\r\n                <div>\r\n                    <textarea\r\n                        onChange={onPostChange}\r\n                        value={props.profilePage.newPostText}\r\n                    />\r\n                </div>\r\n                <button onClick={onAddPost}> Add post</button>\r\n            </div>\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostAC, InitialStateType, updateNewPostTextAC} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: InitialStateType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addPost: () => void\r\n    updateNewPostText: (text: string) => void\r\n}\r\n\r\nexport type MyPostsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: () => {\r\n            dispatch(addPostAC());\r\n        },\r\n\r\n        updateNewPostText: (text) => {\r\n            let action = updateNewPostTextAC(text);\r\n            dispatch(action)\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null,\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\nconst {profile} = props\r\n    return <div>\r\n        <ProfileInfo profile={profile}/>\r\n        <MyPostsContainer/>\r\n    </div>\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, ProfileType} from \"../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect, withRouter} from 'react-router-dom';\r\nimport {RouteComponentProps} from \"react-router\";\r\n\r\nexport type MapStateToPropsType = {\r\n    profile: ProfileType | null,\r\n    isAuth:boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (profile: any) => void\r\n}\r\ntype ProfileComponentType = MapStateToPropsType & MapDispatchPropsType;\r\n\r\ntype PathParamsType = {\r\n    userId?: string\r\n}\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfileComponentType\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        let userId = Number(this.props.match.params.userId)\r\n        if (!userId) {\r\n            userId = 2\r\n        }\r\n        this.props.getUserProfile(userId);\r\n\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n        return (\r\n            <Profile {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nlet WithUrlDataContainerComponent = withRouter(ProfileContainer);\r\nexport default connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent);","import {FC} from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ntype HeaderPropsType ={\r\n    isAuth: boolean\r\n    login: string\r\n    getAuthUserData: () => void\r\n}\r\nconst Header: FC<HeaderPropsType> = ({isAuth, login}) => {\r\n    return <header className = {classes.header}>\r\n        <img alt='Some beach here' src='https://cdn.logo.com/hotlink-ok/logo-social-sq.png'/>\r\n        <div className={classes.loginBlock}>\r\n            {isAuth ?  login\r\n            :\r\n            <NavLink to={'./login'}>Log In</NavLink>}\r\n        </div>\r\n    </header>;\r\n}\r\nexport default Header;","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nconst initialState = {\r\n    id: 2,\r\n    email: 'blabla@bla.bla',\r\n    login: 'samurai',\r\n    isAuth: false\r\n};\r\n\r\nexport type InitialStateType = {\r\n    id: number,\r\n    email: string,\r\n    login: string,\r\n    isAuth: boolean\r\n};\r\n\r\n/*export type InitialStateType = typeof initialState*/\r\nexport type ActionsTypes = ReturnType<typeof setAuthUserData>\r\n\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                id: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setAuthUserData = (userId: number, email: string, login: string) => ({type: SET_USER_DATA, userId, email, login}) as const\r\n\r\nexport const getAuthUserData =() => (dispatch: Dispatch) => {\r\n    authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data\r\n                dispatch(setAuthUserData(id, email, login));\r\n            }\r\n        });\r\n}\r\n\r\nexport default authReducer;","import React, {Component} from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getAuthUserData} from \"../../redux/auth-reducer\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    getAuthUserData: () => void\r\n}\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData})(HeaderContainer);","import React from 'react';\r\n\r\nconst Login = (props: any) => {\r\n    return <h1>Login</h1>\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/login/Login\";\r\n\r\n\r\ntype PropsType = {\r\n    // store: StoreType\r\n    // dispatch: (action: ActionsTypes) => void\r\n}\r\n\r\nconst App: React.FC<PropsType> = () => {\r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() =>\r\n                        <DialogsContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() =>\r\n                        <ProfileContainer/>}/>\r\n                    <Route path='/users' render={() =>\r\n                        <UsersContainer/>}/>\r\n                    <Route path='/login' render={() =>\r\n                    <Login/>}/>\r\n                </div>\r\n            </div>\r\n        </BrowserRouter>)\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReduser from \"./profile-reducer\";\r\nimport dialogsReduser from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReduser,\r\n    dialogsPage: dialogsReduser,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    /*sidebarPage: sidebarReduser*/\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer> //state of application\r\nexport  type RootReduxStateType = ReturnType<typeof rootReducer>\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport type ReduxStoreType = typeof store\r\n// @ts-ignore\r\nwindow.store=store;\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport store, {RootReduxStateType} from \"./redux/redux-store\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\"\r\n\r\n\r\nlet rerenderEntireTree = (state: RootReduxStateType) => {\r\n    ReactDOM.render(\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\nrerenderEntireTree(store.getState())\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}