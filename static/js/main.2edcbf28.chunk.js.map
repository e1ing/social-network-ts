{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","redux/dialogs-reducer.ts","hoc/WithAuthRedirect.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.ts","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","redux/users-reducer.ts","asserts/images/Meelo.png","components/Users/Users.tsx","asserts/images/loader.gif","components/common/preloader/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/MyPosts/ProfileInfo/ProfileStatus.tsx","components/Profile/MyPosts/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Posts/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","asserts/images/logo.png","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/login/Login.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx","components/common/FormsControls/FormsControl.module.css","components/Users/users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","className","classes","nav","item","to","activeClassName","activeLink","SEND_MESSAGE","initialState","dialogs","id","v1","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","Message","dialog","DialogItem","active","Textarea","hasError","meta","touched","error","styles","formControl","input","required","value","mathLength10","length","AddMessageFormRedux","reduxForm","form","handleSubmit","onSubmit","Field","component","validate","placeholder","Dialogs","sendMessage","dialogsPage","dialogsElements","map","d","messagesElements","m","dialogItems","values","compose","dispatch","sendMessageAC","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","params","page","count","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","toggleIsFetching","toggleFollowingProgress","usersReducer","u","followed","filter","Users","usersPage","onPageChanged","pagesCount","Math","ceil","pages","i","push","p","selectedPage","onClick","e","src","photos","small","userPhoto","usersPhoto","disabled","some","Preloader","style","backgroundColor","preloader","UsersContainer","pageNumber","this","resultCode","followSuccess","unfollowSuccess","setCurrentPage","items","totalCount","ProfileStatus","editMode","activateEditMode","setState","deactivateEditMode","onStatusChange","currentTarget","prevProps","prevState","onDoubleClick","onChange","autoFocus","onBlur","ProfileInfo","profile","large","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","setStatus","profileReducer","newPost","newMyPostText","Post","AddMyPostFormRedux","MyPosts","postsElements","profilePage","postsBlock","addPost","MyPostsContainer","addPostAC","Profile","ProfileContainer","Number","match","getUserProfile","React","statusText","withRouter","Header","login","header","alt","loginBlock","SET_USER_DATA","email","authReducer","HeaderContainer","getAuthUserData","setAuthUserData","LoginReduxForm","Login","formData","console","log","App","path","render","DialogsContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","profileReduser","dialogsReduser","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2edcbf28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2XDNa\",\"dialogItems\":\"Dialogs_dialogItems__3UILS\",\"active\":\"Dialogs_active__20aBj\",\"messages\":\"Dialogs_messages__3oxni\",\"message\":\"Dialogs_message__2av77\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2e-Le\",\"item\":\"Navbar_item__1aPzz\",\"activeLink\":\"Navbar_activeLink__31clV\"};","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}> Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/users\"}>Users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/news\"}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/music\"}>Music</NavLink></div>\r\n        <div className={classes.item}>\r\n            <NavLink to={\"/settings\"}>Settings</NavLink>\r\n        </div>\r\n\r\n    </nav>\r\n        ;\r\n}\r\nexport default Navbar;","import {v1} from \"uuid\";\r\n\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Dimych'},\r\n        {id: v1(), name: 'Andrew'},\r\n        {id: v1(), name: 'Sveta'},\r\n        {id: v1(), name: 'Sasha'},\r\n        {id: v1(), name: 'Viktor'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: v1(), message: 'Hi'},\r\n        {id: v1(), message: \"What's up\"},\r\n        {id: v1(), message: 'Yo'},\r\n        {id: v1(), message: 'Crap!'},\r\n        {id: v1(), message: 'Hi, Bro!'}\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsTypes = ReturnType<typeof sendMessageAC>\r\n\r\n const dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessageAC = (newMessageBody: string) => ({type: SEND_MESSAGE, newMessageBody}) as const\r\n\r\n\r\n\r\nexport default dialogsReducer;","import {AppStateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype mapStateToPropsForRedirectType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType): mapStateToPropsForRedirectType => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: mapStateToPropsForRedirectType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to = {\"/login\"}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React from 'react'\r\nimport classes from './../Dialogs.module.css'\r\nimport {MessageType} from \"../../../redux/dialogs-reducer\";\r\n\r\nconst Message: React.FC<MessageType> = (props) => {\r\n    return <div className={classes.dialog}>{props.message}</div>\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react'\r\nimport classes from './../Dialogs.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\nimport Message from \"../Message/Message\";\r\nimport {DialogType, MessageType} from \"../../../redux/dialogs-reducer\";\r\n\r\nexport type DialogsPageType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n    newMessageBody: string\r\n}\r\nconst DialogItem:React.FC<DialogType> = ({id, name}) => {\r\n    let path = \"/dialogs/\" + id;\r\n    return <div className={classes.dialog + ' ' + classes.active}>\r\n        <NavLink to={\"/dialogs/\" + id}>{name}</NavLink>\r\n    </div>\r\n}\r\n\r\n\r\nconst DialogsItem :React.FC<DialogsPageType> = (props) => {\r\n\r\n    let dialogsElements = props.dialogs.map(d => <DialogItem name={d.name} id={d.id}/>)\r\n    let messagesElements = props.messages.map(m => <Message message={m.message} id={m.id}/>)\r\n\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={classes.messages}>\r\n                {messagesElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport styles from \"./FormsControl.module.css\"\r\n\r\nexport const Textarea = ({...props}) => {\r\n\r\n    const hasError = props.meta.touched && props.meta.error\r\n\r\n    return(\r\n        <div className={styles.formControl+ \" \"+ (hasError ? styles.error: \"\")}>\r\n            <div>\r\n            <textarea {...props.input} {...props.meta}/>\r\n            </div>\r\n            { hasError && <span > {props.meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value: string) =>{\r\n  if (value)   return undefined;\r\n  return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) =>{\r\n    if (value && value.length>30)   return \"Max length is 30 symbols\";\r\n    return undefined;\r\n}\r\n\r\n","import React, {FC} from 'react'\r\nimport classes from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {InitialStateType} from \"../../redux/dialogs-reducer\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\ntype DialogsPropsType = {\r\n    sendMessage: (body: string) => void\r\n    dialogsPage: InitialStateType\r\n    isAuth: boolean\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = ({\r\n                                                 sendMessage,\r\n                                                 dialogsPage,\r\n                                                 isAuth,\r\n                                             }) => {\r\n\r\n    // let state_=state.dialogsPage;\r\n\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id}/>)\r\n    let messagesElements = dialogsPage.messages.map(m => <Message message={m.message} id={m.id} key={m.id}/>)\r\n\r\n\r\n    let addNewMessage = (values: FormMessageType) => {\r\n        sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    if (isAuth===false) return <Redirect to={'/login'}/>\r\n    return (\r\n        <div className={classes.dialogs}>\r\n\r\n            <div className={classes.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n\r\n            <div className={classes.messages}>\r\n                <div>{messagesElements}</div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormMessageType = {\r\n    textarea: string\r\n    newMessageBody: string\r\n    enterMessage: string\r\n}\r\n\r\n\r\nconst mathLength10 = maxLengthCreator(10);\r\nconst AddMessageForm: FC<InjectedFormProps<FormMessageType>> = ({handleSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} validate={[required, mathLength10]} name={\"newMessageBody\"} placeholder={\"enterMessage\"}/>\r\n            </div>\r\n            <div>\r\n                <button> Send</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm<FormMessageType>({form: \"dialogAddMessageForm\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import React, {ComponentType} from 'react'\r\nimport {sendMessageAC} from \"../../redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {InitialStateType} from \"../../redux/dialogs-reducer\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogsPage: InitialStateType\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    sendMessage: (newMessageBody: string) => void\r\n}\r\n\r\nexport type DialogsPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageAC(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default  compose<ComponentType>(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"b00b044a-fabf-40f0-8522-d4dd85a812f0\"\r\n    }\r\n}) //object-instance\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get('users',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: number) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(\"profile/\" + userId);\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(\"profile/status/\" + userId);\r\n    },\r\n    updateStatus(status: string){\r\n        return instance.put(\"profile/status\", {status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n}\r\n\r\n\r\nexport const followAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return axios.get('follow',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\n\r\nexport const unfollowAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return axios.delete('follow',\r\n            {\r\n                params: {\r\n                    page: currentPage,\r\n                    count: pageSize\r\n                }\r\n            }).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nexport type PhotosType = {\r\n    large: string | null\r\n    small: string | null\r\n}\r\n\r\nexport type UserType = {\r\n    id: number\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: {\r\n        city: string,\r\n        country: string\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type ActionsTypes = ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof toggleFollowingProgress>\r\n\r\n\r\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId: userId}) as const\r\nexport const unfollowSuccess  = (userId: number) => ({type: UNFOLLOW, userId: userId}) as const\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users: users}) as const\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}) as const\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount}) as const\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching}) as const\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}) as const\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n        });\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return (dispatch:Dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.follow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(followSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            });\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return (dispatch:Dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.unfollow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(unfollowSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n            });\r\n    }\r\n}\r\n\r\nexport default usersReducer;","export default __webpack_public_path__ + \"static/media/Meelo.a12d6408.png\";","import React, {FC} from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../asserts/images/Meelo.png\";\r\nimport {InitialStateType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UsersPropsType = {\r\n    usersPage: InitialStateType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    getUsers: any\r\n    followingInProgress: any\r\n}\r\n\r\nlet Users: FC<UsersPropsType> = props => {\r\n    const {usersPage, follow, unfollow, onPageChanged, getUsers, followingInProgress} = props;\r\n\r\n    let pagesCount = Math.ceil(usersPage.totalUsersCount / usersPage.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            {\r\n                pages.map(p => {\r\n                    return <span className={usersPage.currentPage === p ? styles.selectedPage : \"\"}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p)\r\n                                 }}>{p}</span>\r\n                })\r\n            }\r\n        </div>\r\n\r\n        <button onClick={getUsers}>Get users</button>\r\n        {\r\n            usersPage.users.map(u => <div key={u.id}>\r\n<span>\r\n    <div>\r\n        <NavLink to={'/profile/' + u.id}>\r\n        <img src={u.photos.small !== null ? u.photos.small : userPhoto} className={styles.usersPhoto}/>\r\n            </NavLink>\r\n    </div>\r\n    <div>\r\n        {\r\n            u.followed\r\n                ?\r\n                <button disabled={followingInProgress.some((id: number) => id === u.id)}\r\n                        onClick={() => unfollow(u.id)}>Unfollow </button>\r\n                :\r\n                <button disabled={followingInProgress.some((id: number) => id === u.id)}\r\n                        onClick={() => follow(u.id)}> Follow </button>\r\n        }\r\n    </div>\r\n\r\n</span>\r\n                <span>\r\n    <span>\r\n        <div>{u.name}</div>\r\n        <div>{u.status}</div>\r\n    </span>\r\n    <span>\r\n        <div>{\"u.location.country\"}</div>\r\n        <div>{\"u.location.city\"}</div>\r\n    </span>\r\n</span>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/loader.af80ae8f.gif\";","import React from \"react\";\r\nimport preloader from \"../../../asserts/images/loader.gif\";\r\n\r\nlet Preloader = (props: any) => {\r\n    return <div style={{backgroundColor: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n    export default Preloader;","import React, {Component, ComponentType} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, getUsers, InitialStateType, setCurrentPage, unfollow,} from '../../redux/users-reducer';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {usersAPI} from '../../api/api';\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass UsersContainer extends Component <UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n\r\n            {this.props.usersPage.isFetching ? <Preloader/> : null}\r\n\r\n            <Users\r\n                usersPage={this.props.usersPage}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                onPageChanged={this.onPageChanged}\r\n                getUsers={usersAPI.getUsers}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n\r\n    }\r\n}\r\n\r\nexport type MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n}\r\ntype MapStateToPropsType = {\r\n    usersPage: InitialStateType\r\n    currentPage: number\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        usersPage: state.usersPage,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n}\r\n\r\n/*export default withAuthRedirect(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, getUsers\r\n})(UsersContainer))*/\r\n\r\nexport default compose<ComponentType>(\r\nwithAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage, getUsers\r\n    }))(UsersContainer)\r\n\r\n\r\n","import React, {ChangeEvent, Component} from \"react\";\r\n\r\ntype ProfileStatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nclass ProfileStatus extends Component <ProfileStatusPropsType> {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfileStatusPropsType>, prevState: Readonly<{}>) {\r\n    if (prevProps.status !== this.props.status){\r\n        this.setState({status:this.props.status})\r\n        let a = this.state\r\n        let b = this.props\r\n    }}\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                <div>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status === '' ? 'status' : this.props.status}</span>\r\n                </div>\r\n                }\r\n                {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode}\r\n                           value={this.state.status}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport Preloader from \"../../../common/preloader/Preloader\";\r\nimport {ProfileType} from \"../../../../redux/profile-reducer\";\r\nimport  ProfileStatus from \"./ProfileStatus\"\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType | null,\r\n    status: string,\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileInfo: React.FC<ProfileInfoPropsType> = ({profile, status,updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n           {/* <div>\r\n                <img\r\n                    src='https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350'/>\r\n            </div>*/}\r\n            <div className=\"classes.descriptionBlock\">\r\n                <img src={profile.photos.large}/>\r\n                <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n            )\r\n}\r\n\r\nexport default ProfileInfo;","import {v1} from \"uuid\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    newPostText: string\r\n}\r\nexport type ProfileCallbacksType = {\r\n    addPostCallback: () => void\r\n    updateNewPostText: (postText: string) => void\r\n}\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\ntype ProfileContactsType = {\r\n    facebook: string,\r\n    website: string,\r\n    vk: string,\r\n    twitter: string,\r\n    instagram: string,\r\n    youtube: string,\r\n    github: string,\r\n    mainLink: string,\r\n}\r\n\r\ntype ProfilePhotosType = {\r\n    small: string,\r\n    large: string,\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number,\r\n    aboutMe: string,\r\n    contacts: ProfileContactsType,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    photos: ProfilePhotosType,\r\n\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: v1(), message: \"Hi, how are you?\", likesCount: 12},\r\n        {id: v1(), message: \"It's my first post\", likesCount: 7},\r\n        {id: v1(), message: \"It's my second post\", likesCount: 5}\r\n    ] as Array<PostType>,\r\n    profile: null as null | ProfileType,\r\n    status: \"\"\r\n};\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsTypes = ReturnType<typeof addPostAC> | ReturnType<typeof setUserProfile> | ReturnType<typeof setStatus>\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    let stateCopy = {...state, posts: [...state.posts]}\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: v1(),\r\n                message: action.newMyPostText,\r\n                likesCount: 0\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                posts: [\r\n                    ...state.posts, newPost\r\n                ],\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const addPostAC = (newMyPostText: string) => ({type: ADD_POST, newMyPostText}) as const\r\n\r\nexport const setUserProfile = (profile: any) => ({type: SET_USER_PROFILE, profile}) as const\r\nexport const getUserProfile = (userId: number) => (dispatch: Dispatch) => {\r\n    usersAPI.getProfile(userId).then(response => {\r\n        dispatch(setUserProfile(response.data));\r\n    })\r\n}\r\n\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status}) as const\r\nexport const getStatus = (userId: number) => (dispatch: Dispatch) => {\r\n    profileAPI.getStatus(userId).then(response => {\r\n        dispatch(setStatus(response.statusText));\r\n    })\r\n}\r\nexport const updateStatus = (status: string) => (dispatch: Dispatch) => {\r\n    debugger\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n        debugger\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    })\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport classes from './Post.module.css';\r\nimport {PostType} from \"../../../../redux/profile-reducer\";\r\n\r\n\r\nconst Post: React.FC<PostType> = ({id, message,likesCount}) => {\r\n    return (\r\n        <div>\r\n            <div className={classes.item}>\r\n                <img\r\n                    src=\"https://tlum.ru/uploads/c2c776f1f20dd128d27ab941c26168c2e866ef6551da751aea7e83ae862a032a.jpeg\"/>\r\n                <div className={classes.item}>\r\n                    {message}\r\n                    <div>\r\n                        <span>like</span>{likesCount}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\nexport default Post;","import React, {FC} from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from \"./Posts/Post\";\r\nimport {InitialStateType} from \"../../../redux/profile-reducer\";\r\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\ntype MyPostsPropsType = {\r\n    profilePage: InitialStateType\r\n    addPost: (text: string) => void\r\n}\r\n\r\nconst mathLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts: React.FC<MyPostsPropsType> = (props) => {\r\n\r\n    let postsElements = props.profilePage.posts.map(p =>\r\n        <Post id={p.id} message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    let onAddPost = (values: FormMessageType) => {\r\n        props.addPost(values.newMyPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.postsBlock}>\r\n            <h3> My posts </h3>\r\n            <AddMyPostFormRedux onSubmit={onAddPost}/>\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\ntype FormMessageType = {\r\n    textarea: string\r\n    newMyPostText: string\r\n}\r\n\r\nlet AddMyPostForm: FC<InjectedFormProps<FormMessageType>> = ({handleSubmit}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <Field component={Textarea} name={\"newMyPostText\"} validate={[required, mathLength10]} placeholder={\"Post message\"}/>\r\n        </div>\r\n        <button> Add post</button>\r\n    </form>\r\n}\r\n\r\nconst AddMyPostFormRedux  = reduxForm<FormMessageType>({form: \"ProfileAddMyPostForm\"})(AddMyPostForm);\r\n\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport {addPostAC, InitialStateType} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: InitialStateType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addPost: (newMyPostText: string) => void\r\n}\r\n\r\nexport type MyPostsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: (newMyPostText) => {\r\n            dispatch(addPostAC(newMyPostText));\r\n        }\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./MyPosts/ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null,\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = ({profile, status, updateStatus}) => {\r\n\r\n    return <div>\r\n        <ProfileInfo profile={profile} status={status} updateStatus={updateStatus}/>\r\n        <MyPostsContainer/>\r\n    </div>\r\n}\r\nexport default Profile;","import React, {ComponentType} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, ProfileType, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {RouteComponentProps} from \"react-router\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nexport type MapStateToPropsType = {\r\n    profile: ProfileType | null,\r\n    status: string\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (profile: any) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n}\r\ntype ProfileComponentType = MapStateToPropsType & MapDispatchPropsType;\r\n\r\ntype PathParamsType = {\r\n    userId?: string\r\n}\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfileComponentType\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = Number(this.props.match.params.userId)\r\n        if (!userId) {\r\n            userId = 17186\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n});\r\n\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps,\r\n        {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect)(ProfileContainer)\r\n","import {FC} from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from \"../../asserts/images/logo.png\";\r\n\r\ntype HeaderPropsType ={\r\n    isAuth: boolean\r\n    login: string\r\n    getAuthUserData: () => void\r\n}\r\nconst Header: FC<HeaderPropsType> = ({isAuth, login}) => {\r\n    return <header className = {classes.header}>\r\n        <img alt='Some beach here' src={logo}/>\r\n        <div className={classes.loginBlock}>\r\n            {isAuth ?  login\r\n            :\r\n            <NavLink to={'./login'}>Log In</NavLink>}\r\n        </div>\r\n    </header>;\r\n}\r\nexport default Header;","export default \"data:image/png;base64,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\"","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nconst initialState = {\r\n    id: 2,\r\n    email: 'blabla@bla.bla',\r\n    login: 'samurai',\r\n    isAuth: false\r\n};\r\n\r\nexport type InitialStateType = {\r\n    id: number,\r\n    email: string,\r\n    login: string,\r\n    isAuth: boolean\r\n};\r\n\r\n/*export type InitialStateType = typeof initialState*/\r\nexport type ActionsTypes = ReturnType<typeof setAuthUserData>\r\n\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                id: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setAuthUserData = (userId: number, email: string, login: string) => ({type: SET_USER_DATA, userId, email, login}) as const\r\n\r\nexport const getAuthUserData =() => (dispatch: Dispatch) => {\r\n    authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data\r\n                dispatch(setAuthUserData(id, email, login));\r\n            }\r\n        });\r\n}\r\n\r\nexport default authReducer;","import React, {Component} from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getAuthUserData} from \"../../redux/auth-reducer\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    getAuthUserData: () => void\r\n}\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData})(HeaderContainer);","import React, {FC} from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst Login = () => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        console.log(formData)\r\n    }\r\n    return <div>\r\n        <h1></h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\n\r\nconst LoginForm: FC<InjectedFormProps<FormDataType>> = ({handleSubmit}) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div><Field placeholder={\"Login\"} name={\"login\"} component={\"input\"}/>\r\n                <Field\r\n                    placeholder={\"Password\"} name={\"password\"} component={\"input\"}/>\r\n            </div>\r\n            <div><Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"}/></div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: \"login\"})(LoginForm)\r\n\r\n\r\nexport default Login;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/login/Login\";\r\n\r\n\r\ntype PropsType = {\r\n    // store: StoreType\r\n    // dispatch: (action: ActionsTypes) => void\r\n}\r\n\r\nconst App: React.FC<PropsType> = () => {\r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() =>\r\n                        <DialogsContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() =>\r\n                        <ProfileContainer/>}/>\r\n                    <Route path='/users' render={() =>\r\n                        <UsersContainer/>}/>\r\n                    <Route path='/login' render={() =>\r\n                    <Login/>}/>\r\n                </div>\r\n            </div>\r\n        </BrowserRouter>)\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReduser from \"./profile-reducer\";\r\nimport dialogsReduser from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReduser,\r\n    dialogsPage: dialogsReduser,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer> //state of application\r\nexport  type RootReduxStateType = ReturnType<typeof rootReducer>\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport type ReduxStoreType = typeof store\r\n// @ts-ignore\r\nwindow.store=store;\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport store, {RootReduxStateType} from \"./redux/redux-store\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\"\r\n\r\n\r\nlet rerenderEntireTree = (state: RootReduxStateType) => {\r\n    ReactDOM.render(\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\nrerenderEntireTree(store.getState())\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__336UK\",\"error\":\"FormsControl_error__29Q5K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__ZCNPf\",\"selectedPage\":\"users_selectedPage__1JzRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1cqPN\",\"posts\":\"MyPosts_posts__f-P4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1g_qD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22eFF\",\"loginBlock\":\"Header_loginBlock__BqvfD\"};"],"sourceRoot":""}